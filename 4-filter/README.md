# フィルター適用

今回は画像処理をやります。  
それ系のソフトに実装されているフィルター効果を自分で実装してみましょう。  

実は、ぼかしフィルターやエッジ検出などは全て畳み込みによって実現されています。
畳み込みというのは一種の行列演算のようなものです。

以下で何となくイメージを掴んで下さい。  
```
カウント:0  
カーネル:[0.5,1.0,0.0]  
データ　:[ 64, 32,128, 16,  0,256,  0, 32]  
結果　　:    [ 64,  0,  0,  0,  0,  0]  

カウント:1
カーネル:    [0.5,1.0,0.0]
データ　:[ 64, 32,128, 16,  0,256,  0, 32]  
結果　　:    [ 64,144,  0,  0,  0,  0]  

カウント:2
カーネル:        [0.5,1.0,0.0]
データ　:[ 64, 32,128, 16,  0,256,  0, 32]  
結果　　:    [ 64,144, 80,  0,  0,  0]  

カウント:3
カーネル:            [0.5,1.0,0.0]
データ　:[ 64, 32,128, 16,  0,256,  0, 32]  
結果　　:    [ 64,144, 80,  8,  0,  0]  

カウント:4
カーネル:                [0.5,1.0,0.0]
データ　:[ 64, 32,128, 16,  0,256,  0, 32]  
結果　　:    [ 64,144, 80,  8,256,  0]  

カウント:5
カーネル:                    [0.5,1.0,0.0]
データ　:[ 64, 32,128, 16,  0,256,  0, 32]  
結果　　:    [ 64,144, 80,  8,256,128]  
```

カーネルが適用するフィルター行列。  
データが画像のデータ行列です。  
カーネルとデータが重なる場所の値を掛けて、その合計を各ピクセルの値にしています。  

例の場合、画像からはみ出た部分の処理はしていないため、結果のサイズが若干小さくなっています。  
この部分(端緒画素)の処理の仕方は実装によってまちまちですが、今回は例と同じでも良いです。  

以下にミッションを示します。  
3まで出来て合格とします。合格した人は優秀です。  
PBLのメイン実装に加わっても申し分ない人材でしょう。

1. OpenCVのfilter2D関数で画像を平滑化せよ。なおカーネルは以下を用いること。
```
kernel = np.ones((5, 5), np.float32) / 25
```
2. 1次元配列の畳み込みを実装せよ。上で例示した処理が出来ることを確認すること。
3. filter2Dに準ずる関数を実装せよ。  
```
def convolution(data, kernel):
	# implemention
	return result
```

解答例は後で示すので、とりあえず自由に作ってみましょう。

ミッション以外に「俺の書いた自慢のプログラムを見てくれないか……？」という場合にもどんどん提出してください。

提出する場合にはプルリクエストでお願いします。

何か分からないことがあれば[Issues](https://github.com/PBL-2016/prepare/issues/)へ。
